(function() {var d;function e(a){try{console.log.apply(console,arguments)}catch(b){}}var j={compile:function(a){return(new g(a)).b()},precompile:function(a){return(new g(a)).c()}};function g(a){this.d=a;this.K=!1;this.a=[];this.m=0;this.f=[]}d=g.prototype;d.b=function(){this.o();var a=this.J();return function(b,c){return l.v(a,b,c)}};d.c=function(){this.o();return["function(d, i){","\tvar r = ["+this.I().toString()+"];","\treturn DubStash.Runtime.renderTemplate(r, d, i);\n}"].join("\n")};
d.J=function(){var a=[],b;for(b in this.f)a.push(this.f[b].b());return a};d.I=function(){var a=[],b;for(b in this.f)a.push(this.f[b].c());return a};
d.o=function(){if(!this.K){g.g.lastIndex=0;for(var a;null!==(a=g.g.exec(this.d));)if(a[1].length===a[4].length)switch(this.h(a),a[2]){case "if":a[3]?(a=new m(a[3]),this.j(a),this.a.push(a)):e("Bad condition: "+a[0]);break;case "else":this.a.length?this.a[this.a.length-1].H():(this.h(a[0]),e("Unexpected {{else}} encountered!"));break;case "endif":this.a.length?this.a.pop():(this.h(a[0]),e("Unexpected {{endif}} encountered!"));break;default:a=new n(a[2],"/r"===a[3],2===a[1].length),this.j(a)}else e("Unbalanced brackets encountered: "+
a[0]);a=[];a.index=this.d.length;this.h(a);this.a.length&&e("Missing {{endif}}!")}};d.h=function(a){a="string"===typeof a?a:this.d.slice(this.m,a.index);a.length?this.j(new p(a)):this.m=g.g.lastIndex};d.j=function(a){this.a.length?this.a[this.a.length-1].G(a):this.f.push(a);this.m=g.g.lastIndex};g.g=/({{2,3})\s*([^}\s]+)\s*([^}]*)?(}{2,3})/g;function p(a){this.d=a}p.prototype.b=function(){var a=this.d;return function(){return a}};
p.prototype.c=function(){return["function(){",'\treturn "'+this.L(this.d)+'";',"}"].join("\n")};p.A=/"/g;p.D=/\r?\n/g;p.z=/\\/g;p.prototype.L=function(a){return a.replace(p.z,"\\\\").replace(p.A,'\\"').replace(p.D,"\\n")};function n(a,b,c){this.e=a;this.s=b;this.i=c}n.prototype.b=function(){var a=this;return function(b,c){return l.u(a.e,a.s,a.i,b,c)}};
n.prototype.c=function(){return["function(d, i){","\treturn DubStash.Runtime.renderPlaceHolderBlock("+['"'+this.e+'"',this.s,this.i].join(", ")+", d, i);","}"].join("\n")};function m(a){this.e=a;this.p=!1;this.n=[];this.k=[]}d=m.prototype;d.H=function(){this.p=!0};d.G=function(a){(this.p?this.k:this.n).push(a)};d.b=function(){var a=this.e,b=this.r(this.n),c=this.r(this.k);return function(f,h){return l.t(a,b,c,f,h)}};
d.c=function(){return["function(d, i){",'\tvar n = "'+this.e+'";',"\tvar t = ["+this.q(this.n).toString()+"];","\tvar f = ["+this.q(this.k).toString()+"];","\treturn DubStash.Runtime.renderConditionBlock(n, t, f, d, i);\n}"].join("\n")};d.r=function(a){var b=[],c;for(c in a)b.push(a[c].b());return b};d.q=function(a){var b=[],c;for(c in a)b.push(a[c].c());return b};
var l={v:function(a,b,c){var f=[],h;for(h in a)f.push(a[h].call(null,b,c));return f.join("")},u:function(a,b,c,f,h){var k=l.l(a,f);if(h&&void 0===k)return c?"{{"+a+"}}":"{{{"+a+"}}}";if(void 0===k||null===k)return"";a=c?l.i(""+k):""+k;b&&-1!==a.indexOf("{{")&&(a=j.compile(a).call(null,f,h));return a},t:function(a,b,c,f,h){a=l.l(a,f)?b:c;b=[];for(var k in a)b.push(a[k].call(null,f,h));return b.join("")},l:function(a,b){var c=a.indexOf(".");if(0<c&&c<a.length-1){var f=a.slice(0,c);if(f in b)return l.l(a.slice(c+
1),b[f])}else return"function"===typeof b[a]?b[a]():b[a]},i:function(a){return a.replace(l.w,"&amp;").replace(l.C,"&lt;").replace(l.B,"&gt;").replace(l.F,"&quot;")},C:/</g,B:/>/g,w:/&/g,F:/\"/g};j.Runtime=l;l.renderTemplate=l.v;l.renderPlaceHolderBlock=l.u;l.renderConditionBlock=l.t;try{window.DubStash=j}catch(q){}try{module.exports=j}catch(r){};})();
